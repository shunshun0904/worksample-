##### フルスタックコース  

```
Railsにおける、「単数」と「複数」の使い分けについての説明です。

例えばコントローラー作成時は"blogs"と、モデル作成時は"blog”とそれぞれパラメーター指定させています。それに基づいて様々な変数等が自動的に作成されているようなので、"blogs"と"blog"を使い分けることに意味があるのだと思うのですが、何処にも記載が無いので未だに混乱しています。

rake routes"を行ってみても、Prefixに"blog"　”new_blog"もあれば、"blogs" "confirm_blogs"もあります。何故こうなっているのか全く理解できていません。

```

## 解答例
```
プログラミング言語には「命名規則」というものが存在します。そしてその規則は言語ごとによって異なります。質問者様が疑問に思っているのは「モデル」と「コントローラー」の命名規則についてだと思います。
以下に、railsの「命名規則」についてまとめるので覚えておいてください。これは「こういう決まり」として使っているうちに覚えていくしかないです。
```
***モデル***  　　
<table>
    <tr>
        <td><単一語></td>
        <td></td>
        <td></td>
        <td><複数語></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>名称</td>
        <td>例</td>
        <td>使用法</td>
        <td>名称</td>
        <td>例</td>
        <td>使用法</td>
    </tr>
    <tr>
        <td>モデル名</td>
        <td>user</td>
        <td></td>
        <td>モデル名</td>
        <td>user list</td>
        <td></td>
    </tr>
    <tr>
        <td>モデルクラス名</td>
        <td>User</td>
        <td>先頭大文字・単数形</td>
        <td>モデルクラス名</td>
        <td>UserList</td>
        <td>先頭大文字・単数形・キャメル</td>
    </tr>
    <tr>
        <td>ファイル名</td>
        <td>user.rb</td>
        <td>先頭小文字・単数形</td>
        <td>ファイル名</td>
        <td>user_list.rb</td>
        <td>先頭小文字・単数形・スネーク</td>
    </tr>
    <tr>
        <td>テーブル名</td>
        <td>users</td>
        <td>先頭小文字・複数形</td>
        <td>テーブル名</td>
        <td>users_lists</td>
        <td>先頭小文字・複数形・スネーク</td>
    </tr>
</table>

***コントローラー***  　　
<table>
    <tr>
        <td><単一語></td>
        <td></td>      
        <td></td>        
        <td><複数語></td>
        <td></td>
        <td></td>      
    </tr>
    <tr>
        <td>名称</td>
        <td>例</td>
        <td>使用法</td>
        <td>名称</td>
        <td>例</td>
        <td>使用法</td>
    </tr>
    <tr>
        <td>コントローラー名</td>
        <td>items</td>
        <td>先頭小文字</td>      
        <td>コントローラー名</td>
        <td>member_post</td>
        <td>先頭小文字・スネーク</td>      
    </tr>
    <tr>
        <td>コントローラークラス名</td>
        <td>ItemsController</td>
        <td>先頭大文字・キャメル</td>      
        <td>コントローラークラス名</td>
        <td>MemberPostController</td>
        <td>先頭大文字・キャメル</td>      
    </tr>
    <tr>
        <td>ファイル名</td>
        <td>items_controller.rb</td>
        <td>先頭小文字・スネーク</td>      
        <td>ファイル名</td>
        <td>member_post_contoroller.rb</td>
        <td>先頭小文字・スネーク</td>      
    </tr>
</table>

```
rails generateコマンドは、キャメルケースでもスネークケースでもどちらでも良いです。
*キャメルケースとは要素語の頭文字を大文字で表現する方法です。
*スネークケースとはアンダースコア（_）を区切記号として単語をつなげる表現方法です。
```
****  
****


##### エキスパートAIコース

```
最小二乗法について、テキストを読んでも以下二点がよく分かりませんでしたので、ご回答をお願い致します。
・なぜ2乗しているのか
・なぜ最後に,2で割っているのか
```

## 解答例  
```
最小２乗法とは「誤差2乗和」が最小となるように超平面（2次元の場合境界線）を決定する方法です。
しかしこの説明だと根本的な解決になっていないので、もう少し数学的な説明を補足します。例えば「2乗していないただの誤差」を考えます。その場合数式で表現すると
<img src="https://latex.codecogs.com/gif.latex?E&space;=&space;\sum_{i=1}^{N}y_{i}-f(x_{i})&space;\nonumber" />

となります。ここで\$E$は誤差関数、y = f(x)は求める境界線、(\x_{i},y_‘{i})は与えられたデータの組みです。なお今回は簡単なため、2変数一次関数を想定しています。  
もちろん、上の誤差$y_{i}-f(x_{i})$は正負どちらも取り得ます。綺麗に全部の計算結果が>0になることはありません。下の図をみてください。  
<img src="https://user-images.githubusercontent.com/25298659/31656144-c8030a5a-b365-11e7-9284-67d98b0ba5b1.png">

(x_{1},y_{1}),(x_{2},y_{2})の二つのデータがあるとします。
（二乗していない）誤差の定義に従い普通に計算すると、今の場合
\begin{eqnarray}
E = (15-8) + (3-10) = 0   
\end{eqnarray}
となります。この場合は誤差が0という計算結果になるわけです。果たしてこれでいいのでしょうか？このまま計算すると、誤差が0なのでこれが最適な境界線になってしまいます。こんなにデータ点が離れているのにも関わらずです。
上記の「2乗していない誤差」の場合正負による大小を加味していません。そのため誤差=0という結果になってしまったわけです。もし絶対値記号でもつけて計算しなおせば
\begin{eqnarray}
E = (15-8) + |(3-10)| = 14   
\end{eqnarray}
となり誤差が存在するので、ここで終了せずにまだまだこの誤差を小さくしようとして計算が進みます。ということでプログラム内で絶対値つければ問題は解決します。けれど、わざわざif文で場合わけしてコードを長くしなくても済む方法があります。そもそも「場合わけ」という作業自体、混乱を招きやすい手法です。（中学時代の関数の場合わけを思い出してみてください。）  
それを解決するために、ここでは「ただの誤差」を「2乗」して全ての結果が>0になるようにしているわけです。そうすれば、場合わけしなくても勝手に全ての計算結果が  >0になるので楽です。これが2乗している理由です。ついでに「この2乗することで正負による混乱をなくす」手法は数学の色々なところで用いられている、計算を簡略化するためのテクニックなので、覚えておいてください。  

次に$\frac{1}{2}$をしている理由です。二つの場合を考えていきましょう。  
・$\frac{1}{2}$をしている場合  
・$\frac{1}{2}$をしていない場合  
上述してきた2変数の一次関数の場合でみていきます。$\E$の最小値を求めるので、「これを偏微分したものが0になる」という方程式を考えればいいということはすでに勉強したと思います。  
求める直線（境界線）が$y=ax+b$の時は
\begin{eqnarray}
\frac{\partial E}{\partial a} = 0 \\
\frac{\partial E}{\partial b} = 0 \\
\end{eqnarray}
という二つの連立方程式をとけばいいわけです。  
・$\frac{1}{2}$をしている場合  
\begin{eqnarray}
\frac{\partial \sum_{i=1}^{N}\frac{1}{2}　y_{i}-f(x_{i})}{\partial a} =  \frac{\partial} \sum_{i=1}^{N}\frac{1}{2}y_{i}-f(x_{i})}{\partial a} = \sum_{i=1}^{N} (y_{i}-a-bx_{i})(-1) = 0 \\
\frac{\partial \sum_{i=1}^{N}\frac{1}{2}　y_{i}-f(x_{i})}{\partial b} =  \frac{\partial} \sum_{i=1}^{N}\frac{1}{2}y_{i}-f(x_{i})}{\partial b} = \sum_{i=1}^{N} (y_{i}-a-bx_{i})(-x_{i) = 0 \\
\end{eqnarray}

・$\frac{1}{2}$をしていない場合  
\begin{eqnarray}
\frac{\partial \sum_{i=1}^{N}　y_{i}-f(x_{i})}{\partial a} =  \frac{\partial} \sum_{i=1}^{N}2y_{i}-f(x_{i})}{\partial a} = \sum_{i=1}^{N} 2(y_{i}-a-bx_{i})(-1) $=$ 0 \\
\leftrightarrow \sum_{i=1}^{N} (y_{i}-a-bx_{i})(-1) $=$ 0 \\

\frac{\partial \sum_{i=1}^{N}}2y_{i}-f(x_{i})}{\partial b} =  \frac{\partial} \sum_{i=1}^{N}2y_{i}-f(x_{i})}{\partial b} = \sum_{i=1}^{N} (y_{i}-a-bx_{i})(-x_{i}) &=& 0 \\
\leftrightarrow \sum_{i=1}^{N} (y_{i}-a-bx_{i})(-x_{i}) &=& 0
\end{eqnarray}
と結局は$\frac{1}{2}$をしようがしまいが,最終的に同じ式を計算することには変わりません。  
これは$\frac{\partial E}{\partial a} や\frac{\partial E}{\partial b}$自体が大事なのではなく、$\frac{\partial E}{\partial a} = 0、\frac{\partial E}{\partial b}=0$という方程式がここでは大事だからです。  

この微分（偏微分）したのちに係数をなくすために先にその係数を1にする（今の場合は2×1/2）という作業は、関数を最適化するラグランジュの未定乗数法を用いた分野では特によく用いられている計算簡略化のためのテクニックです。  
SVM（サポートベクターマシン）やナイーブベイズや誤差逆伝搬学習法でもみみられる方法ですので、これも覚えておくとそれらを理解するときにスムーズに理解できます。
```
